@inject Microsoft.AspNetCore.Http.IHttpContextAccessor context
@model NewsPortal.Logic.Models.Post
@{
    ViewData["Title"] = "Post";
    Layout = "_Layout";
}

<div class="form-horizontal">
    <div class="form-group">
        <h4>@Model.Name</h4>
    </div>
    <div class="form-group">
        @Model.Description
    </div>
    <hr />

    <div class="row">
        <div>
            @if (context.HttpContext.Request.Cookies["UserId"].Equals(Model.AuthorId.ToString()))
            {
                @(Html.ActionLink("Edit Post", "EditPost", "Post", Model, new { @class = "btn btn-success" }))
            }
            <b>Rating:@Model.Rating.Value</b>
            <div class="btn-group" role="group" aria-label="Basic example">
                @Html.ActionLink("+", "UpRating", "Rating", new {postId = Model.Id}, new { @class = "btn btn-primary" })
                @Html.ActionLink("-", "DownRating", "Rating", new {postId = Model.Id}, new { @class = "btn btn-primary" })
            </div>
        </div>
    </div>
    <div>
        <b>Comments:</b>
        @await Component.InvokeAsync("Comment", new { replies = Model.Comments })
        @await Component.InvokeAsync("CommentEditor", new { postId = Model.Id })
    </div>
</div>
